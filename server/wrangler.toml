name = "api"
main = "src/index.ts"
compatibility_date = "2024-12-01"

[dev]
port = 3001
local_protocol = "http"

[vars]
NODE_ENV = "development"
CORS_ORIGINS = "http://localhost:3000,http://localhost:5173"
LOG_LEVEL = "info"
BETTER_AUTH_URL = "http://localhost:3001"

# ============================================
# Secrets (set via `wrangler secret put`)
# ============================================
# BETTER_AUTH_SECRET - run: wrangler secret put BETTER_AUTH_SECRET
# DATABASE_URL - run: wrangler secret put DATABASE_URL (for local dev without Hyperdrive)

# ============================================
# Hyperdrive - PostgreSQL (production)
# ============================================
# 1. Create Hyperdrive config:
#    wrangler hyperdrive create my-hyperdrive --connection-string="postgresql://user:pass@host:5432/db"
# 2. Uncomment below and add the ID:
#
# [[hyperdrive]]
# binding = "HYPERDRIVE"
# id = "xxxxxxxx"

# ============================================
# R2 Storage (uncomment to enable)
# ============================================
# [[r2_buckets]]
# binding = "STORAGE"
# bucket_name = "my-bucket"
# preview_bucket_name = "my-bucket-preview"

# ============================================
# KV Namespace (uncomment to enable)
# ============================================
# [[kv_namespaces]]
# binding = "CACHE"
# id = "xxxxxxxx"
# preview_id = "xxxxxxxx"
